function module(e,t,l){let n,a,r,o,i,c,m,u,d,s,E,f,b,p,x,w,h,v,y,C,g,k,R,D,T;function _(e){let{rid:t}=e;const l=k("view-room-administration");return l?a.createElement(j,{rid:t}):a.createElement(R,null)}function j(e){let{rid:t}=e;const[l,n]=o(),{data:r={},state:m,error:u}=v("rooms.adminRooms.getRoom",i(()=>({rid:t}),[t,l]));return m===y.LOADING?a.createElement(c,{w:"full",pb:"x24"},a.createElement(s,{mbe:"x4"}),a.createElement(s,{mbe:"x8"}),a.createElement(s,{mbe:"x4"}),a.createElement(s,{mbe:"x8"}),a.createElement(s,{mbe:"x4"}),a.createElement(s,{mbe:"x8"})):m===y.ERROR?u.message:a.createElement(S,{room:r,onChange:()=>n(new Date)})}function S(e){var t,l,s,v,y,R,_,j;let{room:S,onChange:G}=e;const O=h(),[L,A]=o(!1),[N,P]=o({}),[B,I]=o(!1),F=k("delete-".concat(S.t)),z=i(()=>Object.values(N).filter(e=>null===e).length<Object.keys(N).length,[N]),M=i(()=>n({rid:S._id},Object.fromEntries(Object.entries(N).filter(e=>{let[,t]=e;return null!==t}))),[S._id,N]),V=S.archived?"unarchive":"archive",q="Room_has_been_archived",H=i(()=>({rid:S._id,action:S.archived?"unarchive":"archive"}),[S._id,S.archived]),J=D("POST","rooms.saveRoomSettings",M,O("Room_updated_successfully")),K=D("POST","rooms.changeArchivationState",H,O(q)),Q=e=>()=>"p"===e?"c":"p",U=(e,t)=>e===t||!(e||t),W=function(e,t){let l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e=>e.currentTarget.value;return a=>P(n({},N,{[e]:U(l(a),t)?null:l(a)}))},X=async()=>{await Promise.all([z&&J(),B&&K()].filter(Boolean)),G("update")},Y=g("eraseRoom"),Z=r(async()=>{await Y(S._id),A(!0)},[Y,S._id]),$="d"===S.t?S.usernames.join(" x "):C.getRoomName(S.t,n({type:S.t},S)),ee=null!==(t=N.roomType)&&void 0!==t?t:S.t,te=null!==(l=N.readOnly)&&void 0!==l?l:!!S.ro,le=B?!S.archived:!!S.archived,ne=null!==(s=N.default)&&void 0!==s?s:!!S.default,ae=null!==(v=N.favorite)&&void 0!==v?v:!!S.favorite,re=null!==(y=N.featured)&&void 0!==y?y:!!S.featured;return a.createElement(T.ScrollableContent,{is:"form",onSubmit:r(e=>e.preventDefault(),[])},L&&a.createElement(x,{type:"danger",title:O("Room_has_been_deleted")}),a.createElement(E,null,a.createElement(E.Label,null,O("Name")),a.createElement(E.Row,null,a.createElement(d,{disabled:L||"d"===S.t,value:null!==(R=N.roomName)&&void 0!==R?R:$,onChange:W("roomName",$),flexGrow:1}))),"d"!==S.t&&a.createElement(a.Fragment,null,a.createElement(E,null,a.createElement(E.Label,null,O("Owner")),a.createElement(E.Row,null,a.createElement(c,{fontScale:"p1"},null===(_=S.u)||void 0===_?void 0:_.username))),a.createElement(E,null,a.createElement(E.Label,null,O("Topic")),a.createElement(E.Row,null,a.createElement(d,{disabled:L,value:(null!==(j=N.roomTopic)&&void 0!==j?j:S.topic)||"",onChange:W("roomTopic",S.topic),flexGrow:1}))),a.createElement(b,null),a.createElement(E,null,a.createElement(E.Row,null,a.createElement(c,{display:"flex",flexDirection:"row",justifyContent:"space-between",flexGrow:1},a.createElement(E.Label,null,O("Public")),a.createElement(w,{disabled:L,checked:"p"!==ee,onChange:W("roomType",S.t,Q(ee))})))),a.createElement(E,null,a.createElement(E.Row,null,a.createElement(c,{display:"flex",flexDirection:"row",justifyContent:"space-between",flexGrow:1},a.createElement(E.Label,null,O("Private")),a.createElement(w,{disabled:L,checked:"p"===ee,onChange:W("roomType",S.t,Q(ee))})))),a.createElement(b,null),a.createElement(E,null,a.createElement(E.Row,null,a.createElement(c,{display:"flex",flexDirection:"row",justifyContent:"space-between",flexGrow:1},a.createElement(E.Label,null,O("Read_only")),a.createElement(f,{disabled:L,checked:te,onChange:W("readOnly",S.ro,()=>!te)})))),a.createElement(E,null,a.createElement(E.Row,null,a.createElement(c,{display:"flex",flexDirection:"row",justifyContent:"space-between",flexGrow:1},a.createElement(E.Label,null,O("Archived")),a.createElement(f,{disabled:L,checked:le,onChange:()=>I(!B)})))),a.createElement(E,null,a.createElement(E.Row,null,a.createElement(c,{display:"flex",flexDirection:"row",justifyContent:"space-between",flexGrow:1},a.createElement(E.Label,null,O("Default")),a.createElement(f,{disabled:L,checked:ne,onChange:W("default",S.default,()=>!ne)})))),a.createElement(E,null,a.createElement(E.Row,null,a.createElement(c,{display:"flex",flexDirection:"row",justifyContent:"space-between",flexGrow:1},a.createElement(E.Label,null,O("Favorite")),a.createElement(f,{disabled:L,checked:ae,onChange:W("favorite",S.favorite,()=>!ae)})))),a.createElement(E,null,a.createElement(E.Row,null,a.createElement(c,{display:"flex",flexDirection:"row",justifyContent:"space-between",flexGrow:1},a.createElement(E.Label,null,O("Featured")),a.createElement(f,{disabled:L,checked:re,onChange:W("featured",S.featured,()=>!re)})))),a.createElement(E,null,a.createElement(E.Row,null,a.createElement(c,{display:"flex",flexDirection:"row",justifyContent:"space-between",w:"full"},a.createElement(u,{inlineEnd:"x4"},a.createElement(m,{disabled:L,flexGrow:1,type:"reset",disabled:!z&&!B,onClick:()=>P({})},O("Reset")),a.createElement(m,{disabled:L,mie:"none",flexGrow:1,disabled:!z&&!B,onClick:X},O("Save"))))))),a.createElement(E,null,a.createElement(E.Row,null,a.createElement(m,{primary:!0,danger:!0,disabled:L||!F,onClick:Z,display:"flex",alignItems:"center",justifyContent:"center",flexGrow:1},a.createElement(p,{name:"trash",size:"x16"}),O("Delete")))))}l.link("@babel/runtime/helpers/objectSpread2",{default(e){n=e}},0),l.export({EditRoomContextBar:()=>_}),l.link("react",{default(e){a=e},useCallback(e){r=e},useState(e){o=e},useMemo(e){i=e}},0),l.link("@rocket.chat/fuselage",{Box(e){c=e},Button(e){m=e},Margins(e){u=e},TextInput(e){d=e},Skeleton(e){s=e},Field(e){E=e},ToggleSwitch(e){f=e},Divider(e){b=e},Icon(e){p=e},Callout(e){x=e},RadioButton(e){w=e}},1),l.link("../../contexts/TranslationContext",{useTranslation(e){h=e}},2),l.link("../../hooks/useEndpointDataExperimental",{useEndpointDataExperimental(e){v=e},ENDPOINT_STATES(e){y=e}},3),l.link("../../../app/utils/client",{roomTypes(e){C=e}},4),l.link("../../contexts/ServerContext",{useMethod(e){g=e}},5),l.link("../../contexts/AuthorizationContext",{usePermission(e){k=e}},6),l.link("../NotAuthorizedPage",{default(e){R=e}},7),l.link("../../hooks/useEndpointAction",{useEndpointAction(e){D=e}},8),l.link("../../components/basic/VerticalBar",{default(e){T=e}},9)}

