function module(e,t,n){let l,a,o,c,r,i,m,s,u,E,d,p,C,h,k,b,f,g,j,_,x,y,w,S,D;n.link("@babel/runtime/helpers/extends",{default(e){l=e}},0),n.link("@babel/runtime/helpers/objectWithoutProperties",{default(e){a=e}},1),n.export({EditCustomEmojiWithData:()=>v,EditCustomEmoji:()=>F}),n.link("react",{default(e){o=e},useCallback(e){c=e},useState(e){r=e},useMemo(e){i=e},useEffect(e){m=e}},0),n.link("@rocket.chat/fuselage",{Box(e){s=e},Button(e){u=e},ButtonGroup(e){E=e},Margins(e){d=e},TextInput(e){p=e},Field(e){C=e},Icon(e){h=e},Skeleton(e){k=e},Throbber(e){b=e},InputBox(e){f=e}},1),n.link("../../contexts/TranslationContext",{useTranslation(e){g=e}},2),n.link("../../components/basic/Modal",{Modal(e){j=e}},3),n.link("../../hooks/useFileInput",{useFileInput(e){_=e}},4),n.link("../../hooks/useEndpointDataExperimental",{useEndpointDataExperimental(e){x=e},ENDPOINT_STATES(e){y=e}},5),n.link("../../hooks/useEndpointUpload",{useEndpointUpload(e){w=e}},6),n.link("../../hooks/useEndpointAction",{useEndpointAction(e){S=e}},7),n.link("../../components/basic/VerticalBar",{default(e){D=e}},8);const T=e=>{let{onDelete:t,onCancel:n}=e,l=a(e,["onDelete","onCancel"]);const c=g();return(o.createElement(j,l,o.createElement(j.Header,null,o.createElement(h,{color:"danger",name:"modal-warning",size:20}),o.createElement(j.Title,null,c("Are_you_sure")),o.createElement(j.Close,{onClick:n})),o.createElement(j.Content,{fontScale:"p1"},c("Custom_Emoji_Delete_Warning")),o.createElement(j.Footer,null,o.createElement(E,{align:"end"},o.createElement(u,{ghost:!0,onClick:n},c("Cancel")),o.createElement(u,{primary:!0,danger:!0,onClick:t},c("Delete"))))))},I=e=>{let{onClose:t}=e,n=a(e,["onClose"]);const l=g();return(o.createElement(j,n,o.createElement(j.Header,null,o.createElement(h,{color:"success",name:"checkmark-circled",size:20}),o.createElement(j.Title,null,l("Deleted")),o.createElement(j.Close,{onClick:t})),o.createElement(j.Content,{fontScale:"p1"},l("Custom_Emoji_Has_Been_Deleted")),o.createElement(j.Footer,null,o.createElement(E,{align:"end"},o.createElement(u,{primary:!0,onClick:t},l("Ok"))))))};function v(e){let{_id:t,cache:n,onChange:c}=e,r=a(e,["_id","cache","onChange"]);const m=g(),d=i(()=>({query:JSON.stringify({_id:t})}),[t,n]),{data:p={emojis:{}},state:C,error:h}=x("emoji-custom.list",d);return C===y.LOADING?o.createElement(s,{pb:"x20"},o.createElement(k,{mbs:"x8"}),o.createElement(f.Skeleton,{w:"full"}),o.createElement(k,{mbs:"x8"}),o.createElement(f.Skeleton,{w:"full"}),o.createElement(E,{stretch:!0,w:"full",mbs:"x8"},o.createElement(u,{disabled:!0},o.createElement(b,{inheritColor:!0})),o.createElement(u,{primary:!0,disabled:!0},o.createElement(b,{inheritColor:!0}))),o.createElement(E,{stretch:!0,w:"full",mbs:"x8"},o.createElement(u,{primary:!0,danger:!0,disabled:!0},o.createElement(b,{inheritColor:!0})))):h||!p||!p.emojis||p.emojis.update.length<1?o.createElement(s,{fontScale:"h1",pb:"x20"},m("Custom_User_Status_Error_Invalid_User_Status")):o.createElement(F,l({data:p.emojis.update[0],onChange:c},r))}function F(e){let{close:t,onChange:n,data:l}=e,k=a(e,["close","onChange","data"]);const b=g(),{_id:f,name:j,aliases:x,extension:y}=l||{},v=l||{},[F,U]=r(j),[A,R]=r(x.join(", ")),[B,L]=r(),[N,O]=r(),[M,z]=r("/emoji-custom/".concat(encodeURIComponent(j),".").concat(y));m(()=>{U(j||""),R(x&&x.join(", ")||"")},[j,x,v,f]);const H=c(async e=>{L(e),z(URL.createObjectURL(e))},[L]),P=i(()=>j!==F||A!==x.join(", ")||!!B,[j,F,A,x,B]),W=w("emoji-custom.update",{},b("Custom_Emoji_Updated_Successfully")),q=c(async()=>{const e=new FormData;e.append("emoji",B),e.append("_id",f),e.append("name",F),e.append("aliases",A);const t=await W(e);t.success&&n()},[B,f,F,A,W,n]),G=S("POST","emoji-custom.delete",i(()=>({emojiId:f}),[f])),J=c(async()=>{const e=await G();e.success&&O(()=>o.createElement(I,{onClose:()=>{O(void 0),t(),n()}}))},[t,G,n]),V=c(()=>O(()=>o.createElement(T,{onDelete:J,onCancel:()=>O(void 0)})),[J,O]),K=c(e=>R(e.currentTarget.value),[R]),Q=_(H,"emoji");return o.createElement(o.Fragment,null,o.createElement(D.ScrollableContent,k,o.createElement(C,null,o.createElement(C.Label,null,b("Name")),o.createElement(C.Row,null,o.createElement(p,{value:F,onChange:e=>U(e.currentTarget.value),placeholder:b("Name")}))),o.createElement(C,null,o.createElement(C.Label,null,b("Aliases")),o.createElement(C.Row,null,o.createElement(p,{value:A,onChange:K,placeholder:b("Aliases")}))),o.createElement(C,null,o.createElement(C.Label,{alignSelf:"stretch",display:"flex",justifyContent:"space-between",alignItems:"center"},b("Custom_Emoji"),o.createElement(u,{square:!0,onClick:Q},o.createElement(h,{name:"upload",size:"x20"}))),M&&o.createElement(s,{display:"flex",flexDirection:"row",mbs:"none",justifyContent:"center"},o.createElement(d,{inline:"x4"},o.createElement(s,{is:"img",style:{objectFit:"contain"},w:"x120",h:"x120",src:M})))),o.createElement(C,null,o.createElement(C.Row,null,o.createElement(E,{stretch:!0,w:"full"},o.createElement(u,{onClick:t},b("Cancel")),o.createElement(u,{primary:!0,onClick:q,disabled:!P},b("Save"))))),o.createElement(C,null,o.createElement(C.Row,null,o.createElement(E,{stretch:!0,w:"full"},o.createElement(u,{primary:!0,danger:!0,onClick:V},o.createElement(h,{name:"trash",mie:"x4"}),b("Delete")))))),N)}}

