function module(e,t,l){let n,a,r,s,i,o,c,m,u,d,f,x,p,k,E,y,h,g,b,C,v;l.link("@babel/runtime/helpers/objectSpread2",{default(e){n=e}},0),l.link("@babel/runtime/helpers/extends",{default(e){a=e}},1),l.link("@babel/runtime/helpers/objectWithoutProperties",{default(e){r=e}},2),l.export({UsersTable:()=>$}),l.link("@rocket.chat/fuselage",{Box(e){s=e},Table(e){i=e},Avatar(e){o=e},TextInput(e){c=e},Icon(e){m=e}},0),l.link("@rocket.chat/fuselage-hooks",{useDebouncedValue(e){u=e},useMediaQuery(e){d=e}},1),l.link("react",{default(e){f=e},useMemo(e){x=e},useCallback(e){p=e},useState(e){k=e},useEffect(e){E=e}},2),l.link("../../components/GenericTable",{GenericTable(e){y=e},Th(e){h=e}},3),l.link("../../contexts/TranslationContext",{useTranslation(e){g=e}},4),l.link("../../../app/utils/client",{getUserAvatarURL(e){b=e}},5),l.link("../../contexts/RouterContext",{useRoute(e){C=e}},6),l.link("../../hooks/useEndpointData",{useEndpointData(e){v=e}},7);const S={whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden"},w=e=>{let{setFilter:t}=e,l=r(e,["setFilter"]);const n=g(),[i,o]=k(""),u=p(e=>o(e.currentTarget.value),[]);return E(()=>{t({text:i})},[t,i]),f.createElement(s,a({mb:"x16",is:"form",onSubmit:p(e=>e.preventDefault(),[]),display:"flex",flexDirection:"column"},l),f.createElement(c,{flexShrink:0,placeholder:n("Search_Users"),addon:f.createElement(m,{name:"magnifier",size:"x20"}),onChange:u,value:i}))},T=e=>"asc"===e?1:-1,D=(e,t)=>{let{text:l,itemsPerPage:a,current:r}=e,[s,i]=t;return x(()=>n({fields:JSON.stringify({name:1,username:1,emails:1,roles:1,status:1,avatarETag:1}),query:JSON.stringify({$or:[{"emails.address":{$regex:l||"",$options:"i"}},{username:{$regex:l||"",$options:"i"}},{name:{$regex:l||"",$options:"i"}}]}),sort:JSON.stringify({[s]:T(i),usernames:"name"===s?T(i):void 0})},a&&{count:a},{},r&&{offset:r}),[l,a,r,s,i])};function $(){const e=g(),[t,l]=k({text:"",current:0,itemsPerPage:25}),[n,a]=k(["name","asc"]),r=u(t,500),c=u(n,500),m=D(r,c),E=v("users.list",m)||{},T=C("admin-users"),$=p(e=>()=>T.push({context:"info",id:e}),[T]),P=p(e=>{const[t,l]=n;a(t!==e?[e,"asc"]:[e,"asc"===l?"desc":"asc"])},[n]),R=d("(min-width: 1024px)"),U=x(()=>[f.createElement(h,{key:"name",direction:n[1],active:"name"===n[0],onClick:P,sort:"name",w:"x200"},e("Name")),R&&f.createElement(h,{key:"username",direction:n[1],active:"username"===n[0],onClick:P,sort:"username",w:"x140"},e("Username")),f.createElement(h,{key:"email",direction:n[1],active:"emails.adress"===n[0],onClick:P,sort:"emails.address",w:"x120"},e("Email")),R&&f.createElement(h,{key:"roles",direction:n[1],active:"roles"===n[0],onClick:P,sort:"roles",w:"x120"},e("Roles")),f.createElement(h,{key:"status",direction:n[1],active:"status"===n[0],onClick:P,sort:"status",w:"x100"},e("Status"))].filter(Boolean),[n,P,e,R]),I=p(e=>{let{emails:t,_id:l,username:n,name:a,roles:r,status:c,avatarETag:m}=e;const u=b(n,m);return(f.createElement(i.Row,{key:l,onKeyDown:$(l),onClick:$(l),tabIndex:0,role:"link",action:!0,"qa-user-id":l},f.createElement(i.Cell,{style:S},f.createElement(s,{display:"flex",alignItems:"center"},f.createElement(o,{size:R?"x28":"x40",title:n,url:u}),f.createElement(s,{display:"flex",style:S,mi:"x8"},f.createElement(s,{display:"flex",flexDirection:"column",alignSelf:"center",style:S},f.createElement(s,{fontScale:"p2",style:S,color:"default"},a||n),!R&&a&&f.createElement(s,{fontScale:"p1",color:"hint",style:S}," ","@".concat(n)," "))))),R&&f.createElement(i.Cell,null,f.createElement(s,{fontScale:"p2",style:S,color:"hint"},n)," ",f.createElement(s,{mi:"x4"})),f.createElement(i.Cell,{style:S},t&&t.length&&t[0].address),R&&f.createElement(i.Cell,{style:S},r&&r.join(", ")),f.createElement(i.Cell,{fontScale:"p1",color:"hint",style:S},c)))},[R,$]);return f.createElement(y,{FilterComponent:w,header:U,renderRow:I,results:E.users,total:E.total,setParams:l,params:t})}l.exportDefault($)}

