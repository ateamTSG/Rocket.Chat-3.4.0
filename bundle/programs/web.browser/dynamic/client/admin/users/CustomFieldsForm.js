function module(e,t,l){let n,r,a,s,u,o,i,c,m,d,h,f,E,p,g,F;l.link("@babel/runtime/helpers/extends",{default(e){n=e}},0),l.link("@babel/runtime/helpers/objectSpread2",{default(e){r=e}},1),l.link("@babel/runtime/helpers/objectWithoutProperties",{default(e){a=e}},2),l.export({default:()=>S}),l.link("react",{default(e){s=e},useMemo(e){u=e},useEffect(e){o=e},useState(e){i=e}},0),l.link("@rocket.chat/fuselage",{TextInput(e){c=e},Select(e){m=e},Field(e){d=e},Divider(e){h=e},Box(e){f=e}},1),l.link("../../contexts/SettingsContext",{useSetting(e){E=e}},2),l.link("../../hooks/useForm",{useForm(e){p=e}},3),l.link("../../contexts/TranslationContext",{useTranslation(e){g=e}},4),l.link("../../helpers/capitalize",{capitalize(e){F=e}},5);const b=e=>{const t=g(),{name:l,required:n,minLength:r,maxLength:a,setState:o,state:i}=e,m=u(()=>{const e=[];return!i&&n&&e.push(t("Field_required")),i.length<r&&e.push(t("Min_length_is",r)),e.join(", ")},[i,n,r,t]);return u(()=>s.createElement(d,null,s.createElement(d.Label,null,l),s.createElement(d.Row,null,s.createElement(c,{name:l,error:m,maxLength:a,flexGrow:1,value:i,required:n,onChange:e=>o(e.currentTarget.value)})),s.createElement(d.Error,null,m)),[l,m,a,i,n,o])},x=e=>{const t=g(),{name:l,required:n,options:r,setState:a,state:o}=e,i=u(()=>Object.values(r).map(e=>[e,e]),[r]),c=u(()=>!o.length&&n?t("Field_required"):"",[n,o.length,t]);return u(()=>s.createElement(d,null,s.createElement(d.Label,null,l),s.createElement(d.Row,null,s.createElement(m,{name:l,error:c,flexGrow:1,value:o,options:i,required:n,onChange:e=>a(e)})),s.createElement(d.Error,null,c)),[l,c,o,i,n,a])},k=e=>{let{formValues:t,formHandlers:l,customFields:u}=e,o=a(e,["formValues","formHandlers","customFields"]);return Object.entries(u).map(e=>{let[a,u]=e;const i=r({key:a,name:a,setState:l["handle".concat(F(a))],state:t[a]},u);return"text"===u.type?s.createElement(b,n({},i,o)):s.createElement(x,n({},i,o))})};function S(e){let{customFieldsData:t,setCustomFieldsData:l}=e,c=a(e,["customFieldsData","setCustomFieldsData"]);const m=g(),d=E("Accounts_CustomFields"),[F]=i(()=>{try{return JSON.parse(d||"{}")}catch(e){return{}}}),b=Boolean(Object.values(F).length),x=u(()=>Object.entries(F).reduce((e,t)=>{var l;let[n,r]=t;return e[n]=null!==(l=r.defaultValue)&&void 0!==l?l:"",e},{}),[]),{values:S,handlers:v}=p(r({},x,{},t));return o(()=>{b&&l(S)},[JSON.stringify(S)]),b?s.createElement(s.Fragment,null,s.createElement(h,null),s.createElement(f,{fontScale:"s2"},m("Custom_Fields")),s.createElement(k,n({formValues:S,formHandlers:v,customFields:F},c))):null}}

