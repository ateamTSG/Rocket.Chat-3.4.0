function module(e,t,l){let n,a,r,c,s,o,m,u,i,E,d,C,p,h,k,_,f,S,b,y,g,x,w,T;l.link("@babel/runtime/helpers/extends",{default(e){n=e}},0),l.link("@babel/runtime/helpers/objectWithoutProperties",{default(e){a=e}},1),l.export({EditCustomUserStatusWithData:()=>v,EditCustomUserStatus:()=>B}),l.link("react",{default(e){r=e},useCallback(e){c=e},useState(e){s=e},useMemo(e){o=e},useEffect(e){m=e}},0),l.link("@rocket.chat/fuselage",{Box(e){u=e},Button(e){i=e},ButtonGroup(e){E=e},TextInput(e){d=e},Field(e){C=e},Select(e){p=e},Icon(e){h=e},Skeleton(e){k=e},Throbber(e){_=e},InputBox(e){f=e}},1),l.link("../../contexts/TranslationContext",{useTranslation(e){S=e}},2),l.link("../../contexts/ServerContext",{useMethod(e){b=e}},3),l.link("../../contexts/ToastMessagesContext",{useToastMessageDispatch(e){y=e}},4),l.link("../../components/basic/Modal",{Modal(e){g=e}},5),l.link("../../hooks/useEndpointDataExperimental",{useEndpointDataExperimental(e){x=e},ENDPOINT_STATES(e){w=e}},6),l.link("../../components/basic/VerticalBar",{default(e){T=e}},7);const D=e=>{let{onDelete:t,onCancel:l}=e,n=a(e,["onDelete","onCancel"]);const c=S();return(r.createElement(g,n,r.createElement(g.Header,null,r.createElement(h,{color:"danger",name:"modal-warning",size:20}),r.createElement(g.Title,null,c("Are_you_sure")),r.createElement(g.Close,{onClick:l})),r.createElement(g.Content,{fontScale:"p1"},c("Custom_User_Status_Delete_Warning")),r.createElement(g.Footer,null,r.createElement(E,{align:"end"},r.createElement(i,{ghost:!0,onClick:l},c("Cancel")),r.createElement(i,{primary:!0,danger:!0,onClick:t},c("Delete"))))))},U=e=>{let{onClose:t}=e,l=a(e,["onClose"]);const n=S();return(r.createElement(g,l,r.createElement(g.Header,null,r.createElement(h,{color:"success",name:"checkmark-circled",size:20}),r.createElement(g.Title,null,n("Deleted")),r.createElement(g.Close,{onClick:t})),r.createElement(g.Content,{fontScale:"p1"},n("Custom_User_Status_Has_Been_Deleted")),r.createElement(g.Footer,null,r.createElement(E,{align:"end"},r.createElement(i,{primary:!0,onClick:t},n("Ok"))))))};function v(e){let{_id:t,cache:l}=e,c=a(e,["_id","cache"]);const s=S(),m=o(()=>({query:JSON.stringify({_id:t})}),[t,l]),{data:d,state:C,error:p}=x("custom-user-status.list",m);return C===w.LOADING?r.createElement(u,{pb:"x20"},r.createElement(k,{mbs:"x8"}),r.createElement(f.Skeleton,{w:"full"}),r.createElement(k,{mbs:"x8"}),r.createElement(f.Skeleton,{w:"full"}),r.createElement(E,{stretch:!0,w:"full",mbs:"x8"},r.createElement(i,{disabled:!0},r.createElement(_,{inheritColor:!0})),r.createElement(i,{primary:!0,disabled:!0},r.createElement(_,{inheritColor:!0}))),r.createElement(E,{stretch:!0,w:"full",mbs:"x8"},r.createElement(i,{primary:!0,danger:!0,disabled:!0},r.createElement(_,{inheritColor:!0})))):p||!d||d.statuses.length<1?r.createElement(u,{fontScale:"h1",pb:"x20"},s("Custom_User_Status_Error_Invalid_User_Status")):r.createElement(B,n({data:d.statuses[0]},c))}function B(e){let{close:t,onChange:l,data:n}=e,u=a(e,["close","onChange","data"]);const k=S(),_=y(),{_id:f,name:g,statusType:x}=n||{},[w,v]=s(""),[B,N]=s(""),[O,I]=s();m(()=>{v(g||""),N(x||"")},[g,x,f]);const M=b("insertOrUpdateUserStatus"),A=b("deleteCustomUserStatus"),F=o(()=>g!==w||x!==B,[w,g,x,B]),P=c(async()=>{try{await M({_id:f,previousName:g,previousStatusType:x,name:w,statusType:B}),_({type:"success",message:k("Custom_User_Status_Updated_Successfully")}),l()}catch(e){_({type:"error",message:e})}},[M,f,g,x,w,B,_,k,l]),R=c(async()=>{try{await A(f),I(()=>r.createElement(U,{onClose:()=>{I(void 0),t(),l()}}))}catch(e){_({type:"error",message:e}),l()}},[f,t,A,_,l]),H=()=>I(()=>r.createElement(D,{onDelete:R,onCancel:()=>I(void 0)})),L=[["online",k("Online")],["busy",k("Busy")],["away",k("Away")],["offline",k("Offline")]];return r.createElement(r.Fragment,null,r.createElement(T.ScrollableContent,u,r.createElement(C,null,r.createElement(C.Label,null,k("Name")),r.createElement(C.Row,null,r.createElement(d,{value:w,onChange:e=>v(e.currentTarget.value),placeholder:k("Name")}))),r.createElement(C,null,r.createElement(C.Label,null,k("Presence")),r.createElement(C.Row,null,r.createElement(p,{value:B,onChange:e=>N(e),placeholder:k("Presence"),options:L}))),r.createElement(C,null,r.createElement(C.Row,null,r.createElement(E,{stretch:!0,w:"full"},r.createElement(i,{onClick:t},k("Cancel")),r.createElement(i,{primary:!0,onClick:P,disabled:!F},k("Save"))))),r.createElement(C,null,r.createElement(C.Row,null,r.createElement(E,{stretch:!0,w:"full"},r.createElement(i,{primary:!0,danger:!0,onClick:H},r.createElement(h,{name:"trash",mie:"x4"}),k("Delete")))))),O)}}

