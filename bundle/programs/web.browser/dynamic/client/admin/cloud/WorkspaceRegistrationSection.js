function module(e,t,n){let a,l,o,r,c,s,u,i,d,m,p,k,g,E,h,y,C,b;function f(e){let{email:t,token:n,workspaceId:f,uniqueId:_,onRegisterStatusChange:x}=e,I=l(e,["email","token","workspaceId","uniqueId","onRegisterStatusChange"]);const w=h(),R=y(),T=C("cloud:updateEmail"),S=C("cloud:connectWorkspace"),[v,M]=m(g(!1)),[q,B]=g(t),[j,D]=g(n),F=E(()=>{const e=encodeURIComponent("Self Hosted Registration"),t=encodeURIComponent(["WorkspaceId: ".concat(f),"Deployment Id: ".concat(_),"Issue: <please describe your issue here>"].join("\r\n"));return"mailto:".concat(b,"?subject=").concat(e,"&body=").concat(t)},[f,_]),H=e=>{let{currentTarget:{value:t}}=e;B(t)},U=e=>{let{currentTarget:{value:t}}=e;D(t)},W=async()=>{M(!0);try{await T(q,!1),R({type:"success",message:w("Saved")})}catch(e){R({type:"error",message:e})}finally{M(!1)}},A=async()=>{M(!0);try{await T(q,!0),R({type:"success",message:w("Requested")})}catch(e){R({type:"error",message:e})}finally{M(!1)}},L=async()=>{M(!0);try{const e=await S(j);if(!e)throw Error(w("An error occured connecting"));R({type:"success",message:w("Connected")})}catch(e){R({type:"error",message:e})}finally{await(x&&x()),M(!1)}},G=p(),P=p();return k.createElement(o,a({marginBlock:"neg-x24"},I),k.createElement(i,{block:"x24"},k.createElement(u,null,k.createElement(u.Label,{htmlFor:G},w("Email")),k.createElement(u.Row,null,k.createElement(s,{id:G,disabled:v,value:q,onChange:H})),k.createElement(u.Hint,null,w("Cloud_address_to_send_registration_to"))),k.createElement(c,null,k.createElement(r,{disabled:v,onClick:W},w("Cloud_update_email")),k.createElement(r,{disabled:v,onClick:A},w("Cloud_resend_email"))),k.createElement(u,null,k.createElement(u.Label,{htmlFor:P},w("Token")),k.createElement(u.Row,null,k.createElement(d,{id:P,disabled:v,value:j,onChange:U})),k.createElement(u.Hint,null,w("Cloud_manually_input_token"))),k.createElement(c,null,k.createElement(r,{primary:!0,disabled:v,onClick:L},w("Connect"))),k.createElement(o,{withRichContent:!0},k.createElement("p",null,w("Cloud_connect_support"),": ",k.createElement("a",{href:F,target:"_blank",rel:"noopener noreferrer"},b)))))}n.link("@babel/runtime/helpers/extends",{default(e){a=e}},0),n.link("@babel/runtime/helpers/objectWithoutProperties",{default(e){l=e}},1),n.link("@rocket.chat/fuselage",{Box(e){o=e},Button(e){r=e},ButtonGroup(e){c=e},EmailInput(e){s=e},Field(e){u=e},Margins(e){i=e},TextInput(e){d=e}},0),n.link("@rocket.chat/fuselage-hooks",{useSafely(e){m=e},useUniqueId(e){p=e}},1),n.link("react",{default(e){k=e},useState(e){g=e},useMemo(e){E=e}},2),n.link("../../contexts/TranslationContext",{useTranslation(e){h=e}},3),n.link("../../contexts/ToastMessagesContext",{useToastMessageDispatch(e){y=e}},4),n.link("../../contexts/ServerContext",{useMethod(e){C=e}},5),n.link("./constants",{supportEmailAddress(e){b=e}},6),n.exportDefault(f)}

