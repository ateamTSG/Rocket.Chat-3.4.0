function module(e,t,n){let l,o,a,r,c,i,s,u,m,d,C,f,p,E,k,h,g,x;function y(e){let{onNextButtonClick:t}=e;const n=p(),i=h(),[k,y]=d(""),_=E("cloud:getWorkspaceRegisterData");m(()=>{const e=async()=>{const e=await _();y(e)};e()},[_]);const b=C();return m((function(){const e=new s(b.current);return e.on("success",()=>{i({type:"success",message:n("Copied")})}),()=>{e.destroy()}}),[i,n]),u.createElement(u.Fragment,null,u.createElement(f.Content,null,u.createElement(l,{withRichContent:!0},u.createElement("p",null,n("Cloud_register_offline_helper"))),u.createElement(l,{display:"flex",flexDirection:"column",alignItems:"stretch",padding:"x16",flexGrow:1,backgroundColor:"neutral-800"},u.createElement(c,{vertical:!0},u.createElement(l,{height:"x108",fontFamily:"mono",fontScale:"p1",color:"alternative",style:{wordBreak:"break-all"}},k)),u.createElement(o,{ref:b,primary:!0,"data-clipboard-text":k},u.createElement(r,{name:"copy"})," ",n("Copy"))),u.createElement(g,{is:"p",withRichContent:!0,content:n("Cloud_click_here",{cloudConsoleUrl:x})})),u.createElement(f.Footer,null,u.createElement(a,null,u.createElement(o,{primary:!0,onClick:t},n("Next")))))}function _(e){let{onBackButtonClick:t,onFinish:n}=e;const r=p(),s=h(),[m,C]=d(!1),[E,g]=d(""),x=e=>{g(e.currentTarget.value)},y=k("POST","cloud.manualRegister"),_=async()=>{C(!0);try{await y({},{cloudBlob:E}),s({type:"success",message:r("Cloud_register_success")})}catch(e){s({type:"error",message:r("Cloud_register_error")})}finally{C(!1),n&&n()}};return u.createElement(u.Fragment,null,u.createElement(f.Content,null,u.createElement(l,{withRichContent:!0},u.createElement("p",null,r("Cloud_register_offline_finish_helper"))),u.createElement(l,{display:"flex",flexDirection:"column",alignItems:"stretch",padding:"x16",flexGrow:1,backgroundColor:"neutral-800"},u.createElement(c,{vertical:!0},u.createElement(l,{is:"textarea",height:"x108",fontFamily:"mono",fontScale:"p1",color:"alternative",style:{wordBreak:"break-all",resize:"none"},placeholder:r("Paste_here"),disabled:m,value:E,autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:"false",onChange:x})))),u.createElement(f.Footer,null,u.createElement(a,null,u.createElement(o,{disabled:m,onClick:t},r("Back")),u.createElement(o,{primary:!0,disabled:m||!E.trim(),marginInlineStart:"auto",onClick:_},m?u.createElement(i,{inheritColor:!0}):r("Finish Registration")))))}n.link("@rocket.chat/fuselage",{Box(e){l=e},Button(e){o=e},ButtonGroup(e){a=e},Icon(e){r=e},Scrollable(e){c=e},Throbber(e){i=e}},0),n.link("clipboard",{default(e){s=e}},1),n.link("react",{default(e){u=e},useEffect(e){m=e},useState(e){d=e},useRef(e){C=e}},2),n.link("../../components/basic/Modal",{Modal(e){f=e}},3),n.link("../../contexts/TranslationContext",{useTranslation(e){p=e}},4),n.link("../../contexts/ServerContext",{useMethod(e){E=e},useEndpoint(e){k=e}},5),n.link("../../contexts/ToastMessagesContext",{useToastMessageDispatch(e){h=e}},6),n.link("../../components/basic/MarkdownText",{default(e){g=e}},7),n.link("./constants",{cloudConsoleUrl(e){x=e}},8);const b={COPY:"copy",PASTE:"paste"};function B(e){let{onClose:t,props:n}=e;const l=p(),[o,a]=d(b.COPY),r=()=>{a(b.PASTE)},c=()=>{a(b.COPY)};return u.createElement(f,n,u.createElement(f.Header,null,u.createElement(f.Title,null,l("Cloud_Register_manually")),u.createElement(f.Close,{onClick:t})),o===b.COPY&&u.createElement(y,{onNextButtonClick:r})||o===b.PASTE&&u.createElement(_,{onBackButtonClick:c,onFinish:t}))}n.exportDefault(B)}

