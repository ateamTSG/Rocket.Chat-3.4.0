function module(e,t,n){let r,o,u,l,a,c,s;n.export({ServerContext:()=>d,useServerInformation:()=>i,useAbsoluteUrl:()=>f,useMethod:()=>v,useEndpoint:()=>h,useUpload:()=>E,useStream:()=>g,AsyncState:()=>p,useMethodData:()=>A,usePolledMethodData:()=>S}),n.link("react",{createContext(e){r=e},useCallback(e){o=e},useContext(e){u=e},useMemo(e){l=e},useState(e){a=e},useEffect(e){c=e},useRef(e){s=e}},0);const d=r({info:{},absoluteUrl:e=>e,callMethod:async()=>void 0,callEndpoint:async()=>void 0,uploadToEndpoint:async()=>void 0,getStream:()=>({on:()=>void 0,off:()=>void 0})}),i=()=>u(d).info,f=()=>u(d).absoluteUrl,v=e=>{const{callMethod:t}=u(d);return o((function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t(e,...r)}),[t,e])},h=(e,t)=>{const{callEndpoint:n}=u(d);return o((function(){for(var r=arguments.length,o=new Array(r),u=0;u<r;u++)o[u]=arguments[u];return n(e,t,...o)}),[n,e,t])},E=e=>{const{uploadToEndpoint:t}=u(d);return o((function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t(e,...r)}),[e,t])},g=(e,t)=>{const{getStream:n}=u(d);return l(()=>n(e,t),[n,e,t])};var p;!function(e){e.LOADING="loading",e.DONE="done",e.ERROR="error"}(p||n.runSetters(p={}));const A=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const n=v(e),[[r,u],l]=a([null,p.LOADING]),d=s(!0);c(()=>()=>{d.current=!1},[]);const i=o(()=>{l(e=>{let[t]=e;return[t,p.LOADING]}),n(...t).then(e=>{d.current&&l([e,p.DONE])}).catch(e=>{d.current&&(l(e=>{let[t]=e;return[t,p.ERROR]}),console.error(e))})},[n,...t]);return c(()=>{i()},[i]),[r,u,i]},S=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0;const[r,o,u]=A(e,t);return c(()=>{const e=setInterval(()=>{u()},n);return()=>{clearInterval(e)}},[u,n]),[r,o,u]}}

