function module(e,t,n){let i,r,o,s,c,l,u,a,d,f,b,p,g;n.link("@babel/runtime/helpers/objectSpread2",{default(e){i=e}},0),n.link("@babel/runtime/helpers/objectWithoutProperties",{default(e){r=e}},1),n.link("@rocket.chat/fuselage-hooks",{useMutableCallback(e){o=e}},0),n.link("meteor/mongo",{Mongo(e){s=e}},1),n.link("meteor/tracker",{Tracker(e){c=e}},2),n.link("react",{default(e){l=e},useEffect(e){u=e},useMemo(e){a=e},useCallback(e){d=e},useRef(e){f=e}},3),n.link("../contexts/EditableSettingsContext",{EditableSettingsContext(e){b=e}},4),n.link("../contexts/SettingsContext",{useSettings(e){p=e}},5),n.link("../hooks/useReactiveSubscriptionFactory",{useReactiveSubscriptionFactory(e){g=e}},6);const k={},h=e=>{let{children:t,query:n=k}=e;const h=f(null),y=p(n),m=o(()=>(h.current||(h.current=new s.Collection(null)),h.current));u(()=>{const e=m();e.remove({_id:{$nin:y.map(e=>{let{_id:t}=e;return t})}});for(const t of y){const{_id:n}=t,o=r(t,["_id"]);e.upsert(n,{$set:i({},o)})}},[m,y]);const S=g(d(e=>{const t=m(),n=t.findOne(e);if(!n)return;if(n.blocked)return i({},n,{disabled:!0});if(!n.enableQuery)return i({},n,{disabled:!1});const r=[].concat("string"==typeof n.enableQuery?JSON.parse(n.enableQuery):n.enableQuery);return i({},n,{disabled:!r.every(e=>t.find(e).count()>0)})},[m])),_=g(d((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return m().find(i({},"_id"in e&&{_id:{$in:e._id}},{},"group"in e&&{group:e.group},{},"section"in e&&(e.section?{section:e.section}:{$or:[{section:{$exists:!1}},{section:""}]}),{},"changed"in e&&{changed:e.changed}),{sort:{section:1,sorter:1,i18nLabel:1}}).fetch()}),[m])),v=g(d(e=>Array.from(new Set(m().find({group:e},{fields:{section:1},sort:{section:1,sorter:1,i18nLabel:1}}).fetch().map(e=>{let{section:t}=e;return t||""}))),[m])),x=o(e=>{for(const t of e){const{_id:e}=t,n=r(t,["_id"]);e&&m().update(e,{$set:n})}c.flush()}),C=a(()=>({queryEditableSetting:S,queryEditableSettings:_,queryGroupSections:v,dispatch:x}),[S,_,v,x]);return l.createElement(b.Provider,{children:t,value:C})};n.exportDefault(h)}

