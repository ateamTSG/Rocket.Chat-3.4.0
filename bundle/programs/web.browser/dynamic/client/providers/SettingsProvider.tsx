function module(e,t,i){let n,o,s,c,l,r,a,u,d,g,v,h,S;i.link("@babel/runtime/helpers/objectSpread2",{default(e){n=e}},0),i.link("meteor/tracker",{Tracker(e){o=e}},0),i.link("react",{default(e){s=e},useCallback(e){c=e},useEffect(e){l=e},useMemo(e){r=e},useState(e){a=e}},1),i.link("../contexts/ServerContext",{useMethod(e){u=e}},2),i.link("../contexts/SettingsContext",{SettingsContext(e){d=e}},3),i.link("../hooks/useReactiveSubscriptionFactory",{useReactiveSubscriptionFactory(e){g=e}},4),i.link("../lib/settings/PrivateSettingsCachedCollection",{PrivateSettingsCachedCollection(e){v=e}},5),i.link("../lib/settings/PublicSettingsCachedCollection",{PublicSettingsCachedCollection(e){h=e}},6),i.link("../contexts/AuthorizationContext",{useAtLeastOnePermission(e){S=e}},7);const k=e=>{let{children:t,privileged:i=!1}=e;const k=S(["view-privileged-setting","edit-privileged-setting","manage-selected-settings"]),C=i&&k,p=r(()=>C?v.get():h.get(),[C]),[b,f]=a(()=>o.nonreactive(()=>!p.ready.get()));l(()=>{let e=!0;const t=async()=>{o.nonreactive(()=>p.ready.get())||await p.init(),e&&f(!1)};return t(),()=>{e=!1}},[p]);const x=g(c(e=>n({},p.collection.findOne(e)),[p])),m=g(c((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return p.collection.find(n({},"_id"in e&&{_id:{$in:e._id}},{},"group"in e&&{group:e.group},{},"section"in e&&(e.section?{section:e.section}:{$or:[{section:{$exists:!1}},{section:null}]})),{sort:{section:1,sorter:1,i18nLabel:1}}).fetch()}),[p])),y=u("saveSettings"),P=c(e=>y(e),[y]),A=r(()=>({hasPrivateAccess:C,isLoading:b,querySetting:x,querySettings:m,dispatch:P}),[C,b,x,m,P]);return s.createElement(d.Provider,{children:t,value:A})};i.exportDefault(k)}

