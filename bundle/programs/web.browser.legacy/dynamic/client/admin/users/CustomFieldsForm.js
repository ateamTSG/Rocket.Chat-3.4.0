function module(e,t,n){var r,u,l,a,i,o,c,s,f,m,d,h,p,E,v,b,g;n.link("@babel/runtime/helpers/extends",{default:function(e){r=e}},0),n.link("@babel/runtime/helpers/objectSpread2",{default:function(e){u=e}},1),n.link("@babel/runtime/helpers/slicedToArray",{default:function(e){l=e}},2),n.link("@babel/runtime/helpers/objectWithoutProperties",{default:function(e){a=e}},3),n.export({default:function(){return S}}),n.link("react",{default:function(e){i=e},useMemo:function(e){o=e},useEffect:function(e){c=e},useState:function(e){s=e}},0),n.link("@rocket.chat/fuselage",{TextInput:function(e){f=e},Select:function(e){m=e},Field:function(e){d=e},Divider:function(e){h=e},Box:function(e){p=e}},1),n.link("../../contexts/SettingsContext",{useSetting:function(e){E=e}},2),n.link("../../hooks/useForm",{useForm:function(e){v=e}},3),n.link("../../contexts/TranslationContext",{useTranslation:function(e){b=e}},4),n.link("../../helpers/capitalize",{capitalize:function(e){g=e}},5);var F=function(e){var t=b(),n=e.name,r=e.required,u=e.minLength,l=e.maxLength,a=e.setState,c=e.state,s=o((function(){var e=[];return!c&&r&&e.push(t("Field_required")),c.length<u&&e.push(t("Min_length_is",u)),e.join(", ")}),[c,r,u,t]);return o((function(){return i.createElement(d,null,i.createElement(d.Label,null,n),i.createElement(d.Row,null,i.createElement(f,{name:n,error:s,maxLength:l,flexGrow:1,value:c,required:r,onChange:function(e){return a(e.currentTarget.value)}})),i.createElement(d.Error,null,s))}),[n,s,l,c,r,a])},k=function(e){var t=b(),n=e.name,r=e.required,u=e.options,l=e.setState,a=e.state,c=o((function(){return Object.values(u).map((function(e){return[e,e]}))}),[u]),s=o((function(){return!a.length&&r?t("Field_required"):""}),[r,a.length,t]);return o((function(){return i.createElement(d,null,i.createElement(d.Label,null,n),i.createElement(d.Row,null,i.createElement(m,{name:n,error:s,flexGrow:1,value:a,options:c,required:r,onChange:function(e){return l(e)}})),i.createElement(d.Error,null,s))}),[n,s,a,c,r,l])},x=function(e){var t=e.formValues,n=e.formHandlers,o=e.customFields,c=a(e,["formValues","formHandlers","customFields"]);return Object.entries(o).map((function(e){var a=l(e,2),o=a[0],s=a[1],f=u({key:o,name:o,setState:n["handle"+g(o)],state:t[o]},s);return"text"===s.type?i.createElement(F,r({},f,c)):i.createElement(k,r({},f,c))}))};function S(e){var t=e.customFieldsData,n=e.setCustomFieldsData,f=a(e,["customFieldsData","setCustomFieldsData"]),m=b(),d=E("Accounts_CustomFields"),g=s((function(){try{return JSON.parse(d||"{}")}catch(e){return{}}})),F,k=l(g,1)[0],S=Boolean(Object.values(k).length),C=o((function(){return Object.entries(k).reduce((function(e,t){var n,r=l(t,2),u=r[0],a=r[1];return e[u]=null!==(n=a.defaultValue)&&void 0!==n?n:"",e}),{})}),[]),j=v(u({},C,{},t)),q=j.values,O=j.handlers;return c((function(){S&&n(q)}),[JSON.stringify(q)]),S?i.createElement(i.Fragment,null,i.createElement(h,null),i.createElement(p,{fontScale:"s2"},m("Custom_Fields")),i.createElement(x,r({formValues:q,formHandlers:O,customFields:k},f))):null}}

