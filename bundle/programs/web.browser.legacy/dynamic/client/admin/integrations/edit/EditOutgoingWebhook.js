function module(e,n,t){var r,o,i,l,a,u,s,c,d,f,m,g,p,v,x,E,b,k,h,y,C,w,D,S,A;function I(e){var n=e.integrationId,t=a(e,["integrationId"]),r=b(),o=c(),d=l(o,2),f=d[0],p=d[1],v=k("integrations.get",s((function(){return{integrationId:n}}),[n,f])),x=v.data,E=v.state,y=v.error,C=function(){return p(new Date)};return E===h.LOADING?u.createElement(m,i({w:"full",pb:"x24"},t),u.createElement(g,{mbe:"x4"}),u.createElement(g,{mbe:"x8"}),u.createElement(g,{mbe:"x4"}),u.createElement(g,{mbe:"x8"}),u.createElement(g,{mbe:"x4"}),u.createElement(g,{mbe:"x8"})):y?u.createElement(m,i({mbs:"x16"},t),r("Oops_page_not_found")):u.createElement(W,i({data:x.integration,onChange:C},t))}t.link("@babel/runtime/helpers/objectSpread2",{default:function(e){r=e}},0),t.link("@babel/runtime/regenerator",{default:function(e){o=e}},1),t.link("@babel/runtime/helpers/extends",{default:function(e){i=e}},2),t.link("@babel/runtime/helpers/slicedToArray",{default:function(e){l=e}},3),t.link("@babel/runtime/helpers/objectWithoutProperties",{default:function(e){a=e}},4),t.export({default:function(){return I}}),t.link("react",{default:function(e){u=e},useMemo:function(e){s=e},useState:function(e){c=e},useCallback:function(e){d=e}},0),t.link("@rocket.chat/fuselage",{Field:function(e){f=e},Box:function(e){m=e},Skeleton:function(e){g=e},Margins:function(e){p=e},Button:function(e){v=e}},1),t.link("./EditIntegrationsPage",{SuccessModal:function(e){x=e},DeleteWarningModal:function(e){E=e}},2),t.link("../../../contexts/TranslationContext",{useTranslation:function(e){b=e}},3),t.link("../../../hooks/useEndpointDataExperimental",{useEndpointDataExperimental:function(e){k=e},ENDPOINT_STATES:function(e){h=e}},4),t.link("../../../hooks/useEndpointAction",{useEndpointAction:function(e){y=e}},5),t.link("../../../contexts/RouterContext",{useRoute:function(e){C=e}},6),t.link("../../../contexts/ServerContext",{useMethod:function(e){w=e}},7),t.link("../../../contexts/ToastMessagesContext",{useToastMessageDispatch:function(e){D=e}},8),t.link("../OutgoiongWebhookForm",{default:function(e){S=e}},9),t.link("../../../hooks/useForm",{useForm:function(e){A=e}},10);var T=function(e){var n,t,r,o,i,l,a,u,s,c,d,f,m,g,p,v,x,E,b;return{enabled:null===(n=e.enabled)||void 0===n||n,impersonateUser:e.impersonateUser,event:e.event,token:e.token,urls:null!==(t=e.urls.join("\n"))&&void 0!==t?t:"",triggerWords:null!==(r=null===(o=e.triggerWords)||void 0===o?void 0:o.join("; "))&&void 0!==r?r:"",targetRoom:null!==(i=e.targetRoom)&&void 0!==i?i:"",channel:null!==(l=e.channel.join(", "))&&void 0!==l?l:"",username:null!==(a=e.username)&&void 0!==a?a:"",name:null!==(u=e.name)&&void 0!==u?u:"",alias:null!==(s=e.alias)&&void 0!==s?s:"",avatarUrl:null!==(c=e.avatarUrl)&&void 0!==c?c:"",emoji:null!==(d=e.emoji)&&void 0!==d?d:"",scriptEnabled:null!==(f=e.scriptEnabled)&&void 0!==f&&f,script:null!==(m=e.script)&&void 0!==m?m:"",retryFailedCalls:null===(g=e.retryFailedCalls)||void 0===g||g,retryCount:null!==(p=e.retryCount)&&void 0!==p?p:5,retryDelay:null!==(v=e.retryDelay)&&void 0!==v?v:"power-of-ten",triggerrWordAnywhere:null!==(x=e.triggerrWordAnywhere)&&void 0!==x&&x,runOnEdits:null===(E=e.runOnEdits)||void 0===E||E}};function W(e){var n=e.data,t=e.onChange,g=e.setSaveAction,k=a(e,["data","onChange","setSaveAction"]),h=b(),I=D(),W=A(T(n)),_=W.handlers,j=W.values,O=W.reset,F=c(),M=l(F,2),P=M[0],R=M[1],U=w("updateOutgoingIntegration"),G=C("admin-integrations"),N=s((function(){return{type:"webhook-outgoing",integrationId:n._id}}),[n._id]),B=y("POST","integrations.remove",N),H=d((function(){var e=function(){return R()},n=function(){function n(){var n;return o.async(function(){function t(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.awrap(B());case 2:(n=t.sent).success&&R(u.createElement(x,{onClose:function(){e(),G.push({})}}));case 4:case"end":return t.stop()}}return t}(),null,null,null,Promise)}return n}();R(u.createElement(E,{onDelete:n,onCancel:e}))}),[B,G]),L=j.urls,V=j.triggerWords,$=d(function(){function e(){return o.async(function(){function e(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.awrap(U(n._id,r({},j,{triggerWords:V.split(/\s*(?:;|$)\s*/),urls:L.split("\n")})));case 3:I({type:"success",message:h("Integration_updated")}),t(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),I({type:"error",message:e.t0});case 10:case"end":return e.stop()}}return e}(),null,null,[[0,7]],Promise)}return e}(),[n._id,I,j,t,U,h,V,L]),q=s((function(){return u.createElement(f,null,u.createElement(f.Row,{display:"flex",flexDirection:"column"},u.createElement(m,{display:"flex",flexDirection:"row",justifyContent:"space-between",w:"full"},u.createElement(p,{inlineEnd:"x4"},u.createElement(v,{flexGrow:1,type:"reset",onClick:O},h("Reset")),u.createElement(v,{mie:"none",flexGrow:1,onClick:$},h("Save")))),u.createElement(v,{mbs:"x4",primary:!0,danger:!0,w:"full",onClick:H},h("Delete"))))}),[H,$,O,h]);return u.createElement(u.Fragment,null,u.createElement(S,i({formValues:j,formHandlers:_,append:q},k)),P)}}

