function module(e,n,t){var a,o,r,i,l,u,c,s,f,m,d,p,x,E,b,g,k,h,v,w,C,D,y,I,_;function S(e){var n=e.integrationId,t=l(e,["integrationId"]),a=k(),o=s(),f=i(o,2),m=f[0],x=f[1],E=h("integrations.get",c((function(){return{integrationId:n}}),[n,m])),b=E.data,g=E.state,w=E.error,C=function(){return x(new Date)};return g===v.LOADING?u.createElement(d,r({w:"full",pb:"x24"},t),u.createElement(p,{mbe:"x4"}),u.createElement(p,{mbe:"x8"}),u.createElement(p,{mbe:"x4"}),u.createElement(p,{mbe:"x8"}),u.createElement(p,{mbe:"x4"}),u.createElement(p,{mbe:"x8"})):w?u.createElement(d,r({mbs:"x16"},t),a("Oops_page_not_found")):u.createElement(M,r({data:b.integration,onChange:C},t))}t.link("@babel/runtime/helpers/objectSpread2",{default:function(e){a=e}},0),t.link("@babel/runtime/regenerator",{default:function(e){o=e}},1),t.link("@babel/runtime/helpers/extends",{default:function(e){r=e}},2),t.link("@babel/runtime/helpers/slicedToArray",{default:function(e){i=e}},3),t.link("@babel/runtime/helpers/objectWithoutProperties",{default:function(e){l=e}},4),t.export({default:function(){return S}}),t.link("react",{default:function(e){u=e},useMemo:function(e){c=e},useState:function(e){s=e},useCallback:function(e){f=e}},0),t.link("@rocket.chat/fuselage",{Field:function(e){m=e},Box:function(e){d=e},Skeleton:function(e){p=e},Margins:function(e){x=e},Button:function(e){E=e}},1),t.link("./EditIntegrationsPage",{SuccessModal:function(e){b=e},DeleteWarningModal:function(e){g=e}},2),t.link("../../../contexts/TranslationContext",{useTranslation:function(e){k=e}},3),t.link("../../../hooks/useEndpointDataExperimental",{useEndpointDataExperimental:function(e){h=e},ENDPOINT_STATES:function(e){v=e}},4),t.link("../../../contexts/ServerContext",{useMethod:function(e){w=e}},5),t.link("../../../hooks/useEndpointAction",{useEndpointAction:function(e){C=e}},6),t.link("../../../contexts/RouterContext",{useRoute:function(e){D=e}},7),t.link("../../../contexts/ToastMessagesContext",{useToastMessageDispatch:function(e){y=e}},8),t.link("../../../hooks/useForm",{useForm:function(e){I=e}},9),t.link("../IncomingWebhookForm",{default:function(e){_=e}},10);var T=function(e){var n,t,a,o,r,i,l;return{enabled:e.enabled,channel:null!==(n=e.channel.join(", "))&&void 0!==n?n:"",username:null!==(t=e.username)&&void 0!==t?t:"",name:null!==(a=e.name)&&void 0!==a?a:"",alias:null!==(o=e.alias)&&void 0!==o?o:"",avatarUrl:null!==(r=e.avatarUrl)&&void 0!==r?r:"",emoji:null!==(i=e.emoji)&&void 0!==i?i:"",scriptEnabled:e.scriptEnabled,script:e.script}};function M(e){var n=e.data,t=e.onChange,p=l(e,["data","onChange"]),h=k(),v=y(),S=I(T(n)),M=S.values,j=S.handlers,P=S.reset,A=s(),F=i(A,2),O=F[0],R=F[1],G=c((function(){return{type:"webhook-incoming",integrationId:n._id}}),[n._id]),N=C("POST","integrations.remove",G),W=w("updateIncomingIntegration"),B=D("admin-integrations"),U=f((function(){var e=function(){return R()},n=function(){function n(){var n;return o.async(function(){function t(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.awrap(N());case 2:(n=t.sent).success&&R(u.createElement(b,{onClose:function(){e(),B.push({})}}));case 4:case"end":return t.stop()}}return t}(),null,null,null,Promise)}return n}();R(u.createElement(g,{onDelete:n,onCancel:e}))}),[N,B]),H=f(function(){function e(){return o.async(function(){function e(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.awrap(W(n._id,a({},M)));case 3:v({type:"success",message:h("Integration_updated")}),t(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),v({type:"error",message:e.t0});case 10:case"end":return e.stop()}}return e}(),null,null,[[0,7]],Promise)}return e}(),[n._id,v,M,t,W,h]),L=c((function(){return u.createElement(m,null,u.createElement(m.Row,{display:"flex",flexDirection:"column"},u.createElement(d,{display:"flex",flexDirection:"row",justifyContent:"space-between",w:"full"},u.createElement(x,{inlineEnd:"x4"},u.createElement(E,{flexGrow:1,type:"reset",onClick:P},h("Reset")),u.createElement(E,{mie:"none",flexGrow:1,onClick:H},h("Save")))),u.createElement(E,{mbs:"x4",primary:!0,danger:!0,w:"full",onClick:U},h("Delete"))))}),[U,H,P,h]);return u.createElement(u.Fragment,null,u.createElement(_,r({formHandlers:j,formValues:M,extraData:{_id:n._id,token:n.token},append:L},p)),O)}}

