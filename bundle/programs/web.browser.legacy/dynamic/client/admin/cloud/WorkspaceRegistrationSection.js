function module(e,n,t){var r,a,o,c,u,l,s,i,d,f,m,p,k,h,g,b,E,v,x,C;function y(e){var n=e.email,t=e.token,y=e.workspaceId,_=e.uniqueId,w=e.onRegisterStatusChange,I=c(e,["email","token","workspaceId","uniqueId","onRegisterStatusChange"]),R=E(),T=v(),S=x("cloud:updateEmail"),M=x("cloud:connectWorkspace"),q=p(g(!1)),B=o(q,2),P=B[0],j=B[1],A=g(n),D=o(A,2),F=D[0],H=D[1],U=g(t),W=o(U,2),L=W[0],G=W[1],z=b((function(){var e=encodeURIComponent("Self Hosted Registration"),n=encodeURIComponent(["WorkspaceId: "+y,"Deployment Id: "+_,"Issue: <please describe your issue here>"].join("\r\n"));return"mailto:"+C+"?subject="+e+"&body="+n}),[y,_]),J=function(e){var n=e.currentTarget.value;H(n)},K=function(e){var n=e.currentTarget.value;G(n)},N=function(){function e(){return a.async(function(){function e(e){for(;;)switch(e.prev=e.next){case 0:return j(!0),e.prev=1,e.next=4,a.awrap(S(F,!1));case 4:T({type:"success",message:R("Saved")}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),T({type:"error",message:e.t0});case 10:return e.prev=10,j(!1),e.finish(10);case 13:case"end":return e.stop()}}return e}(),null,null,[[1,7,10,13]],Promise)}return e}(),O=function(){function e(){return a.async(function(){function e(e){for(;;)switch(e.prev=e.next){case 0:return j(!0),e.prev=1,e.next=4,a.awrap(S(F,!0));case 4:T({type:"success",message:R("Requested")}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),T({type:"error",message:e.t0});case 10:return e.prev=10,j(!1),e.finish(10);case 13:case"end":return e.stop()}}return e}(),null,null,[[1,7,10,13]],Promise)}return e}(),Q=function(){function e(){var e;return a.async(function(){function n(n){for(;;)switch(n.prev=n.next){case 0:return j(!0),n.prev=1,n.next=4,a.awrap(M(L));case 4:if(e=n.sent){n.next=7;break}throw Error(R("An error occured connecting"));case 7:T({type:"success",message:R("Connected")}),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(1),T({type:"error",message:n.t0});case 13:return n.prev=13,n.next=16,a.awrap(w&&w());case 16:return j(!1),n.finish(13);case 18:case"end":return n.stop()}}return n}(),null,null,[[1,10,13,18]],Promise)}return e}(),V=k(),X=k();return h.createElement(u,r({marginBlock:"neg-x24"},I),h.createElement(f,{block:"x24"},h.createElement(d,null,h.createElement(d.Label,{htmlFor:V},R("Email")),h.createElement(d.Row,null,h.createElement(i,{id:V,disabled:P,value:F,onChange:J})),h.createElement(d.Hint,null,R("Cloud_address_to_send_registration_to"))),h.createElement(s,null,h.createElement(l,{disabled:P,onClick:N},R("Cloud_update_email")),h.createElement(l,{disabled:P,onClick:O},R("Cloud_resend_email"))),h.createElement(d,null,h.createElement(d.Label,{htmlFor:X},R("Token")),h.createElement(d.Row,null,h.createElement(m,{id:X,disabled:P,value:L,onChange:K})),h.createElement(d.Hint,null,R("Cloud_manually_input_token"))),h.createElement(s,null,h.createElement(l,{primary:!0,disabled:P,onClick:Q},R("Connect"))),h.createElement(u,{withRichContent:!0},h.createElement("p",null,R("Cloud_connect_support"),": ",h.createElement("a",{href:z,target:"_blank",rel:"noopener noreferrer"},C)))))}t.link("@babel/runtime/helpers/extends",{default:function(e){r=e}},0),t.link("@babel/runtime/regenerator",{default:function(e){a=e}},1),t.link("@babel/runtime/helpers/slicedToArray",{default:function(e){o=e}},2),t.link("@babel/runtime/helpers/objectWithoutProperties",{default:function(e){c=e}},3),t.link("@rocket.chat/fuselage",{Box:function(e){u=e},Button:function(e){l=e},ButtonGroup:function(e){s=e},EmailInput:function(e){i=e},Field:function(e){d=e},Margins:function(e){f=e},TextInput:function(e){m=e}},0),t.link("@rocket.chat/fuselage-hooks",{useSafely:function(e){p=e},useUniqueId:function(e){k=e}},1),t.link("react",{default:function(e){h=e},useState:function(e){g=e},useMemo:function(e){b=e}},2),t.link("../../contexts/TranslationContext",{useTranslation:function(e){E=e}},3),t.link("../../contexts/ToastMessagesContext",{useToastMessageDispatch:function(e){v=e}},4),t.link("../../contexts/ServerContext",{useMethod:function(e){x=e}},5),t.link("./constants",{supportEmailAddress:function(e){C=e}},6),t.exportDefault(y)}

