function module(e,n,t){var l,r,o,a,i,c,u,f,m,d,s,E,p,b,x,w,h,v,y,g,C,k,R,T,D,_,j;function S(e){var n=e.rid,t;return T("view-room-administration")?a.createElement(G,{rid:n}):a.createElement(D,null)}function G(e){var n=e.rid,t=c(),l=o(t,2),r=l[0],i=l[1],m=g("rooms.adminRooms.getRoom",u((function(){return{rid:n}}),[n,r])),d=m.data,s=void 0===d?{}:d,p=m.state,b=m.error;return p===C.LOADING?a.createElement(f,{w:"full",pb:"x24"},a.createElement(E,{mbe:"x4"}),a.createElement(E,{mbe:"x8"}),a.createElement(E,{mbe:"x4"}),a.createElement(E,{mbe:"x8"}),a.createElement(E,{mbe:"x4"}),a.createElement(E,{mbe:"x8"})):p===C.ERROR?b.message:a.createElement(O,{room:s,onChange:function(){return i(new Date)}})}function O(e){var n,t,E,g,C,D,S,G,O=e.room,L=e.onChange,P=y(),A=c(!1),N=o(A,2),B=N[0],I=N[1],F=c({}),z=o(F,2),M=z[0],V=z[1],q=c(!1),H=o(q,2),J=H[0],K=H[1],Q=T("delete-"+O.t),U=u((function(){return Object.values(M).filter((function(e){return null===e})).length<Object.keys(M).length}),[M]),W=u((function(){return r({rid:O._id},Object.fromEntries(Object.entries(M).filter((function(e){var n,t;return null!==o(e,2)[1]}))))}),[O._id,M]),X=O.archived?"unarchive":"archive",Y="Room_has_been_archived",Z=u((function(){return{rid:O._id,action:O.archived?"unarchive":"archive"}}),[O._id,O.archived]),$=_("POST","rooms.saveRoomSettings",W,P("Room_updated_successfully")),ee=_("POST","rooms.changeArchivationState",Z,P(Y)),ne=function(e){return function(){return"p"===e?"c":"p"}},te=function(e,n){return e===n||!(e||n)},le=function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e){return e.currentTarget.value};return function(l){var o;return V(r({},M,((o={})[e]=te(t(l),n)?null:t(l),o)))}},re=function(){function e(){return l.async(function(){function e(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.awrap(Promise.all([U&&$(),J&&ee()].filter(Boolean)));case 2:L("update");case 3:case"end":return e.stop()}}return e}(),null,null,null,Promise)}return e}(),oe=R("eraseRoom"),ae=i(function(){function e(){return l.async(function(){function e(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.awrap(oe(O._id));case 2:I(!0);case 3:case"end":return e.stop()}}return e}(),null,null,null,Promise)}return e}(),[oe,O._id]),ie="d"===O.t?O.usernames.join(" x "):k.getRoomName(O.t,r({type:O.t},O)),ce=null!==(n=M.roomType)&&void 0!==n?n:O.t,ue=null!==(t=M.readOnly)&&void 0!==t?t:!!O.ro,fe=J?!O.archived:!!O.archived,me=null!==(E=M.default)&&void 0!==E?E:!!O.default,de=null!==(g=M.favorite)&&void 0!==g?g:!!O.favorite,se=null!==(C=M.featured)&&void 0!==C?C:!!O.featured;return a.createElement(j.ScrollableContent,{is:"form",onSubmit:i((function(e){return e.preventDefault()}),[])},B&&a.createElement(h,{type:"danger",title:P("Room_has_been_deleted")}),a.createElement(p,null,a.createElement(p.Label,null,P("Name")),a.createElement(p.Row,null,a.createElement(s,{disabled:B||"d"===O.t,value:null!==(D=M.roomName)&&void 0!==D?D:ie,onChange:le("roomName",ie),flexGrow:1}))),"d"!==O.t&&a.createElement(a.Fragment,null,a.createElement(p,null,a.createElement(p.Label,null,P("Owner")),a.createElement(p.Row,null,a.createElement(f,{fontScale:"p1"},null===(S=O.u)||void 0===S?void 0:S.username))),a.createElement(p,null,a.createElement(p.Label,null,P("Topic")),a.createElement(p.Row,null,a.createElement(s,{disabled:B,value:(null!==(G=M.roomTopic)&&void 0!==G?G:O.topic)||"",onChange:le("roomTopic",O.topic),flexGrow:1}))),a.createElement(x,null),a.createElement(p,null,a.createElement(p.Row,null,a.createElement(f,{display:"flex",flexDirection:"row",justifyContent:"space-between",flexGrow:1},a.createElement(p.Label,null,P("Public")),a.createElement(v,{disabled:B,checked:"p"!==ce,onChange:le("roomType",O.t,ne(ce))})))),a.createElement(p,null,a.createElement(p.Row,null,a.createElement(f,{display:"flex",flexDirection:"row",justifyContent:"space-between",flexGrow:1},a.createElement(p.Label,null,P("Private")),a.createElement(v,{disabled:B,checked:"p"===ce,onChange:le("roomType",O.t,ne(ce))})))),a.createElement(x,null),a.createElement(p,null,a.createElement(p.Row,null,a.createElement(f,{display:"flex",flexDirection:"row",justifyContent:"space-between",flexGrow:1},a.createElement(p.Label,null,P("Read_only")),a.createElement(b,{disabled:B,checked:ue,onChange:le("readOnly",O.ro,(function(){return!ue}))})))),a.createElement(p,null,a.createElement(p.Row,null,a.createElement(f,{display:"flex",flexDirection:"row",justifyContent:"space-between",flexGrow:1},a.createElement(p.Label,null,P("Archived")),a.createElement(b,{disabled:B,checked:fe,onChange:function(){return K(!J)}})))),a.createElement(p,null,a.createElement(p.Row,null,a.createElement(f,{display:"flex",flexDirection:"row",justifyContent:"space-between",flexGrow:1},a.createElement(p.Label,null,P("Default")),a.createElement(b,{disabled:B,checked:me,onChange:le("default",O.default,(function(){return!me}))})))),a.createElement(p,null,a.createElement(p.Row,null,a.createElement(f,{display:"flex",flexDirection:"row",justifyContent:"space-between",flexGrow:1},a.createElement(p.Label,null,P("Favorite")),a.createElement(b,{disabled:B,checked:de,onChange:le("favorite",O.favorite,(function(){return!de}))})))),a.createElement(p,null,a.createElement(p.Row,null,a.createElement(f,{display:"flex",flexDirection:"row",justifyContent:"space-between",flexGrow:1},a.createElement(p.Label,null,P("Featured")),a.createElement(b,{disabled:B,checked:se,onChange:le("featured",O.featured,(function(){return!se}))})))),a.createElement(p,null,a.createElement(p.Row,null,a.createElement(f,{display:"flex",flexDirection:"row",justifyContent:"space-between",w:"full"},a.createElement(d,{inlineEnd:"x4"},a.createElement(m,{disabled:B,flexGrow:1,type:"reset",disabled:!U&&!J,onClick:function(){return V({})}},P("Reset")),a.createElement(m,{disabled:B,mie:"none",flexGrow:1,disabled:!U&&!J,onClick:re},P("Save"))))))),a.createElement(p,null,a.createElement(p.Row,null,a.createElement(m,{primary:!0,danger:!0,disabled:B||!Q,onClick:ae,display:"flex",alignItems:"center",justifyContent:"center",flexGrow:1},a.createElement(w,{name:"trash",size:"x16"}),P("Delete")))))}t.link("@babel/runtime/regenerator",{default:function(e){l=e}},0),t.link("@babel/runtime/helpers/objectSpread2",{default:function(e){r=e}},1),t.link("@babel/runtime/helpers/slicedToArray",{default:function(e){o=e}},2),t.export({EditRoomContextBar:function(){return S}}),t.link("react",{default:function(e){a=e},useCallback:function(e){i=e},useState:function(e){c=e},useMemo:function(e){u=e}},0),t.link("@rocket.chat/fuselage",{Box:function(e){f=e},Button:function(e){m=e},Margins:function(e){d=e},TextInput:function(e){s=e},Skeleton:function(e){E=e},Field:function(e){p=e},ToggleSwitch:function(e){b=e},Divider:function(e){x=e},Icon:function(e){w=e},Callout:function(e){h=e},RadioButton:function(e){v=e}},1),t.link("../../contexts/TranslationContext",{useTranslation:function(e){y=e}},2),t.link("../../hooks/useEndpointDataExperimental",{useEndpointDataExperimental:function(e){g=e},ENDPOINT_STATES:function(e){C=e}},3),t.link("../../../app/utils/client",{roomTypes:function(e){k=e}},4),t.link("../../contexts/ServerContext",{useMethod:function(e){R=e}},5),t.link("../../contexts/AuthorizationContext",{usePermission:function(e){T=e}},6),t.link("../NotAuthorizedPage",{default:function(e){D=e}},7),t.link("../../hooks/useEndpointAction",{useEndpointAction:function(e){_=e}},8),t.link("../../components/basic/VerticalBar",{default:function(e){j=e}},9)}

