function module(e,t,n){var l,r,a,c,o,u,i,m,s,f,E,d,p,h,_,b,C,k,x,g,v,w,A,y,S,T,R,D,I,L;n.link("@babel/runtime/helpers/objectSpread2",{default:function(e){l=e}},0),n.link("@babel/runtime/regenerator",{default:function(e){r=e}},1),n.link("@babel/runtime/helpers/extends",{default:function(e){a=e}},2),n.link("@babel/runtime/helpers/slicedToArray",{default:function(e){c=e}},3),n.link("@babel/runtime/helpers/objectWithoutProperties",{default:function(e){o=e}},4),n.export({default:function(){return O}}),n.link("react",{default:function(e){u=e},useCallback:function(e){i=e},useState:function(e){m=e},useMemo:function(e){s=e}},0),n.link("@rocket.chat/fuselage",{Box:function(e){f=e},Button:function(e){E=e},ButtonGroup:function(e){d=e},TextInput:function(e){p=e},Field:function(e){h=e},Icon:function(e){_=e},Skeleton:function(e){b=e},Throbber:function(e){C=e},InputBox:function(e){k=e},TextAreaInput:function(e){x=e},ToggleSwitch:function(e){g=e},FieldGroup:function(e){v=e}},1),n.link("../../contexts/TranslationContext",{useTranslation:function(e){w=e}},2),n.link("../../contexts/ServerContext",{useMethod:function(e){A=e},useAbsoluteUrl:function(e){y=e}},3),n.link("../../contexts/RouterContext",{useRoute:function(e){S=e}},4),n.link("../../contexts/ToastMessagesContext",{useToastMessageDispatch:function(e){T=e}},5),n.link("../../components/basic/Modal",{Modal:function(e){R=e}},6),n.link("../../hooks/useEndpointDataExperimental",{useEndpointDataExperimental:function(e){D=e},ENDPOINT_STATES:function(e){I=e}},7),n.link("../../components/basic/VerticalBar",{default:function(e){L=e}},8);var U=function(e){var t=e.onDelete,n=e.onCancel,l=o(e,["onDelete","onCancel"]),r=w();return u.createElement(R,l,u.createElement(R.Header,null,u.createElement(_,{color:"danger",name:"modal-warning",size:20}),u.createElement(R.Title,null,r("Are_you_sure")),u.createElement(R.Close,{onClick:n})),u.createElement(R.Content,{fontScale:"p1"},r("Application_delete_warning")),u.createElement(R.Footer,null,u.createElement(d,{align:"end"},u.createElement(E,{ghost:!0,onClick:n},r("Cancel")),u.createElement(E,{primary:!0,danger:!0,onClick:t},r("Delete")))))},M=function(e){var t=e.onClose,n=o(e,["onClose"]),l=w();return u.createElement(R,n,u.createElement(R.Header,null,u.createElement(_,{color:"success",name:"checkmark-circled",size:20}),u.createElement(R.Title,null,l("Deleted")),u.createElement(R.Close,{onClick:t})),u.createElement(R.Content,{fontScale:"p1"},l("Your_entry_has_been_deleted")),u.createElement(R.Footer,null,u.createElement(d,{align:"end"},u.createElement(E,{primary:!0,onClick:t},l("Ok")))))};function O(e){var t=e._id,n=o(e,["_id"]),l=w(),r=m(),p=c(r,2),h=p[0],_=p[1],x=i((function(){_(new Date)}),[]),g=s((function(){return{appId:t}}),[t,h]),v=D("oauth-apps.get",g),A=v.data,y=v.state,S=v.error;return y===I.LOADING?u.createElement(f,{pb:"x20",maxWidth:"x600",w:"full",alignSelf:"center"},u.createElement(b,{mbs:"x8"}),u.createElement(k.Skeleton,{w:"full"}),u.createElement(b,{mbs:"x8"}),u.createElement(k.Skeleton,{w:"full"}),u.createElement(d,{stretch:!0,w:"full",mbs:"x8"},u.createElement(E,{disabled:!0},u.createElement(C,{inheritColor:!0})),u.createElement(E,{primary:!0,disabled:!0},u.createElement(C,{inheritColor:!0}))),u.createElement(d,{stretch:!0,w:"full",mbs:"x8"},u.createElement(E,{primary:!0,danger:!0,disabled:!0},u.createElement(C,{inheritColor:!0})))):!S&&A&&t?u.createElement(B,a({data:A.oauthApp,onChange:x},n)):u.createElement(f,{fontScale:"h1",pb:"x20"},l("error-application-not-found"))}function B(e){var t=e.onChange,n=e.data,f=o(e,["onChange","data"]),b=w(),C=T(),k=m({name:n.name,active:n.active,redirectUri:Array.isArray(n.redirectUri)?n.redirectUri.join("\n"):n.redirectUri}),R=c(k,2),D=R[0],I=R[1],O=m(),B=c(O,2),F=B[0],j=B[1],z=S("admin-oauth-apps"),G=i((function(){return z.push({})}),[z]),H=y(),N=s((function(){return H("oauth/authorize")}),[H]),P=s((function(){return H("oauth/token")}),[H]),W=A("updateOAuthApp"),V=A("deleteOAuthApp"),Y=i(function(){function e(){return r.async(function(){function e(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.awrap(W(n._id,D));case 3:C({type:"success",message:b("Application_updated")}),t(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),C({type:"error",message:e.t0});case 10:case"end":return e.stop()}}return e}(),null,null,[[0,7]],Promise)}return e}(),[n._id,C,D,t,W,b]),q=i(function(){function e(){return r.async(function(){function e(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.awrap(V(n._id));case 3:j((function(){return u.createElement(M,{onClose:function(){j(),G()}})})),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),C({type:"error",message:e.t0});case 9:case"end":return e.stop()}}return e}(),null,null,[[0,6]],Promise)}return e}(),[G,n._id,V,C]),J=function(){return j((function(){return u.createElement(U,{onDelete:q,onCancel:function(){return j(void 0)}})}))},K=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return e.currentTarget.value};return function(n){var r;return I(l({},D,((r={})[e]=t(n),r)))}},Q=D.active,X=D.name,Z=D.redirectUri;return u.createElement(u.Fragment,null,u.createElement(L.ScrollableContent,a({w:"full"},f),u.createElement(v,{maxWidth:"x600",alignSelf:"center",w:"full"},u.createElement(h,null,u.createElement(h.Label,{display:"flex",justifyContent:"space-between",w:"full"},b("Active"),u.createElement(g,{checked:Q,onChange:K("active",(function(){return!Q}))}))),u.createElement(h,null,u.createElement(h.Label,null,b("Application_Name")),u.createElement(h.Row,null,u.createElement(p,{value:X,onChange:K("name")})),u.createElement(h.Hint,null,b("Give_the_application_a_name_This_will_be_seen_by_your_users"))),u.createElement(h,null,u.createElement(h.Label,null,b("Redirect_URI")),u.createElement(h.Row,null,u.createElement(x,{rows:5,value:Z,onChange:K("redirectUri")})),u.createElement(h.Hint,null,b("After_OAuth2_authentication_users_will_be_redirected_to_this_URL"))),u.createElement(h,null,u.createElement(h.Label,null,b("Client_ID")),u.createElement(h.Row,null,u.createElement(p,{value:n.clientId,onChange:K("clientId")}))),u.createElement(h,null,u.createElement(h.Label,null,b("Client_Secret")),u.createElement(h.Row,null,u.createElement(p,{value:n.clientSecret}))),u.createElement(h,null,u.createElement(h.Label,null,b("Authorization_URL")),u.createElement(h.Row,null,u.createElement(p,{value:N}))),u.createElement(h,null,u.createElement(h.Label,null,b("Access_Token_URL")),u.createElement(h.Row,null,u.createElement(p,{value:P}))),u.createElement(h,null,u.createElement(h.Row,null,u.createElement(d,{stretch:!0,w:"full"},u.createElement(E,{onClick:G},b("Cancel")),u.createElement(E,{primary:!0,onClick:Y},b("Save"))))),u.createElement(h,null,u.createElement(h.Row,null,u.createElement(d,{stretch:!0,w:"full"},u.createElement(E,{primary:!0,danger:!0,onClick:J},u.createElement(_,{name:"trash",mie:"x4"}),b("Delete"))))))),F)}}

