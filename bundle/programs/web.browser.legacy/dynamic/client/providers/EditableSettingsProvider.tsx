function module(e,n,t){var i,r,o,u,c,a,l,s,f,d,b,v,p,g;t.link("@babel/runtime/helpers/objectSpread2",{default:function(e){i=e}},0),t.link("@babel/runtime/helpers/objectWithoutProperties",{default:function(e){r=e}},1),t.link("@babel/runtime/helpers/createForOfIteratorHelperLoose",{default:function(e){o=e}},2),t.link("@rocket.chat/fuselage-hooks",{useMutableCallback:function(e){u=e}},0),t.link("meteor/mongo",{Mongo:function(e){c=e}},1),t.link("meteor/tracker",{Tracker:function(e){a=e}},2),t.link("react",{default:function(e){l=e},useEffect:function(e){s=e},useMemo:function(e){f=e},useCallback:function(e){d=e},useRef:function(e){b=e}},3),t.link("../contexts/EditableSettingsContext",{EditableSettingsContext:function(e){v=e}},4),t.link("../contexts/SettingsContext",{useSettings:function(e){p=e}},5),t.link("../hooks/useReactiveSubscriptionFactory",{useReactiveSubscriptionFactory:function(e){g=e}},6);var k={},h=function(e){var n=e.children,t=e.query,h=void 0===t?k:t,m=b(null),y=p(h),S=u((function(){return m.current||(m.current=new c.Collection(null)),m.current}));s((function(){var e=S();e.remove({_id:{$nin:y.map((function(e){var n;return e._id}))}});for(var n=o(y),t;!(t=n()).done;){var u=t.value,c=u._id,a=r(u,["_id"]);e.upsert(c,{$set:i({},a)})}}),[S,y]);var _=g(d((function(e){var n=S(),t=n.findOne(e);if(t){if(t.blocked)return i({},t,{disabled:!0});if(!t.enableQuery)return i({},t,{disabled:!1});var r=[].concat("string"==typeof t.enableQuery?JSON.parse(t.enableQuery):t.enableQuery);return i({},t,{disabled:!r.every((function(e){return n.find(e).count()>0}))})}}),[S])),x=g(d((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return S().find(i({},"_id"in e&&{_id:{$in:e._id}},{},"group"in e&&{group:e.group},{},"section"in e&&(e.section?{section:e.section}:{$or:[{section:{$exists:!1}},{section:""}]}),{},"changed"in e&&{changed:e.changed}),{sort:{section:1,sorter:1,i18nLabel:1}}).fetch()}),[S])),C=g(d((function(e){return Array.from(new Set(S().find({group:e},{fields:{section:1},sort:{section:1,sorter:1,i18nLabel:1}}).fetch().map((function(e){var n;return e.section||""}))))}),[S])),E=u((function(e){for(var n=o(e),t;!(t=n()).done;){var i=t.value,u=i._id,c=r(i,["_id"]);u&&S().update(u,{$set:c})}a.flush()})),$=f((function(){return{queryEditableSetting:_,queryEditableSettings:x,queryGroupSections:C,dispatch:E}}),[_,x,C,E]);return l.createElement(v.Provider,{children:n,value:$})};t.exportDefault(h)}

