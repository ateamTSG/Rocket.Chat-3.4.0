function module(n,e,t){var i,r,o,c,u,s,a,l,f,d,g,v,b,k,p;t.link("@babel/runtime/helpers/objectSpread2",{default:function(n){i=n}},0),t.link("@babel/runtime/regenerator",{default:function(n){r=n}},1),t.link("@babel/runtime/helpers/slicedToArray",{default:function(n){o=n}},2),t.link("meteor/tracker",{Tracker:function(n){c=n}},0),t.link("react",{default:function(n){u=n},useCallback:function(n){s=n},useEffect:function(n){a=n},useMemo:function(n){l=n},useState:function(n){f=n}},1),t.link("../contexts/ServerContext",{useMethod:function(n){d=n}},2),t.link("../contexts/SettingsContext",{SettingsContext:function(n){g=n}},3),t.link("../hooks/useReactiveSubscriptionFactory",{useReactiveSubscriptionFactory:function(n){v=n}},4),t.link("../lib/settings/PrivateSettingsCachedCollection",{PrivateSettingsCachedCollection:function(n){b=n}},5),t.link("../lib/settings/PublicSettingsCachedCollection",{PublicSettingsCachedCollection:function(n){k=n}},6),t.link("../contexts/AuthorizationContext",{useAtLeastOnePermission:function(n){p=n}},7);var h=function(n){var e=n.children,t=n.privileged,h=void 0!==t&&t,S=p(["view-privileged-setting","edit-privileged-setting","manage-selected-settings"]),x=h&&S,C=l((function(){return x?b.get():k.get()}),[x]),m=f((function(){return c.nonreactive((function(){return!C.ready.get()}))})),y=o(m,2),P=y[0],A=y[1];a((function(){var n=!0,e;return function(){function e(){return r.async(function(){function e(e){for(;;)switch(e.prev=e.next){case 0:if(c.nonreactive((function(){return C.ready.get()}))){e.next=3;break}return e.next=3,r.awrap(C.init());case 3:if(n){e.next=5;break}return e.abrupt("return");case 5:A(!1);case 6:case"end":return e.stop()}}return e}(),null,null,null,Promise)}return e}()(),function(){n=!1}}),[C]);var w=v(s((function(n){return i({},C.collection.findOne(n))}),[C])),L=v(s((function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return C.collection.find(i({},"_id"in n&&{_id:{$in:n._id}},{},"group"in n&&{group:n.group},{},"section"in n&&(n.section?{section:n.section}:{$or:[{section:{$exists:!1}},{section:null}]})),{sort:{section:1,sorter:1,i18nLabel:1}}).fetch()}),[C])),$=d("saveSettings"),_=s((function(n){return $(n)}),[$]),q=l((function(){return{hasPrivateAccess:x,isLoading:P,querySetting:w,querySettings:L,dispatch:_}}),[x,P,w,L,_]);return u.createElement(g.Provider,{children:e,value:q})};t.exportDefault(h)}

